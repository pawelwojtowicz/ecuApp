DATASERVICE_WSDL=DataService.soap.wsdl
DATASERVICE_SOAP_HEADER=DataService.soapHeader
UISOAPGATEWAY_SRC_PATH=../../Src/uiSOAPGateway
GSOAP_DATASERVICE=$(UISOAPGATEWAY_SRC_PATH)/gSOAP_DataService

SOAPCPP2_SWITCH= -2 -S -i -w -x -d$(GSOAP_DATASERVICE)

default: dirStructure $(DATASERVICE_SOAP_HEADER)
	soapcpp2 $(SOAPCPP2_SWITCH) -pgSOAP_DS_ $(DATASERVICE_SOAP_HEADER)

$(DATASERVICE_SOAP_HEADER): $(DATASERVICE_WSDL)
	wsdl2h $(DATASERVICE_WSDL) -o$(DATASERVICE_SOAP_HEADER)

dirStructure:
	rm -rf $(GSOAP_DATASERVICE)
	mkdir -p $(GSOAP_DATASERVICE)
